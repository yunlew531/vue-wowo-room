import{g as t,e,d as s,a}from"./index.f969cf9d.js";import{i as d,g as l,o as r,c as o,b as n,F as c,j as p,t as i,x}from"./vendor.c396e27b.js";import"https://unpkg.com/swiper/swiper-bundle.esm.browser.min.js";const u={setup(){const r=d({orderData:[]});return l((()=>{t().then((t=>{r.orderData=t.data.orders})).catch((t=>{console.log(t)}))})),{orderData:r,handEditOrderStatus:function(t){const s={data:{id:t.id,paid:!t.paid}};e(s).then((t=>{r.orderData=t.data.orders})).catch((t=>{console.log(t)}))},handDeleteAllOrders:function(){s().then((t=>{r.orderData=t.data.orders,console.log(t.data)})).catch((t=>{console.log(t)}))},handDeleteOrder:function(t){const e=t.id;a(e).then((t=>{r.orderData=t.data.orders,console.log(t.data)})).catch((t=>{console.log(t)}))}}}},h={class:" px-3 bg-gray-100"},g={class:" flex justify-end bg-gray-50 p-3 rounded-lg mt-3 items-center"},y={class:"mx-auto overflow-x-auto mt-3"},b={class:"mt-4rounded-lg bg-white w-full whitespace-nowrap"},m=n("thead",{class:"bg-gray-50"},[n("tr",{class:"text-gray-600 text-left"},[n("th",{class:"font-semibold text-sm px-6 py-4"}," 訂單編號 "),n("th",{class:"font-semibold text-sm px-6 py-4"}," 聯絡人 "),n("th",{class:"font-semibold text-sm px-6 py-4 text-center"}," 聯絡地址 "),n("th",{class:"font-semibold text-sm px-6 py-4 text-center"}," 電子郵件 "),n("th",{class:"font-semibold text-sm px-6 py-4"}," 訂單品項 "),n("th",{class:"font-semibold text-sm px-6 py-4"}," 訂單日期 "),n("th",{width:"135",class:"font-semibold text-sm px-6 py-4"}," 訂單狀態 "),n("th",{width:"100",class:"font-semibold text-sm px-6 py-4"}," 編輯 ")])],-1),f={class:"divide-y divide-gray-200 text-base"},w={class:"px-6 py-4"},D={class:""},k={class:"px-6 py-4"},v={class:""},O={class:""},j={class:"px-6 py-4 text-center"},C={class:""},A={class:"px-6 py-4 text-center"},S={class:""},E={class:"px-6 py-4 text-center"},q={class:"px-6 py-4 text-center"},F={class:""},L={class:"px-6 py-4 text-center text-white"},z={key:0,class:" bg-green-500 px-2 py-1 rounded-full"},B={key:1,class:" bg-red-500 px-2 py-1 rounded-full"},G={class:"px-6 py-4 text-center text-white"};u.render=function(t,e,s,a,d,l){return r(),o("section",h,[n("div",g,[n("button",{onClick:e[1]||(e[1]=(...t)=>a.handDeleteAllOrders&&a.handDeleteAllOrders(...t)),class:" text-base px-2 py-1 bg-red-500 rounded-lg hover:bg-red-600 active:bg-red-700 text-white"},"刪除所有訂單")]),n("div",y,[n("table",b,[m,n("tbody",f,[(r(!0),o(c,null,p(a.orderData.orderData,(t=>(r(),o("tr",{key:t.id},[n("td",w,[n("p",D,i(t.id),1)]),n("td",k,[n("p",v,i(t.user.name),1),n("p",O,i(t.user.tel),1)]),n("td",j,[n("p",C,i(t.user.address),1)]),n("td",A,[n("p",S,i(t.user.email),1)]),n("td",E,[n("ul",null,[(r(!0),o(c,null,p(t.products,(t=>(r(),o("li",null,i(t.title)+" x "+i(t.quantity),1)))),256))])]),n("td",q,[n("p",F,i(new Date(1e3*t.createdAt).toLocaleString()),1)]),n("td",L,[n("input",{type:"checkbox",class:" mr-1.5 ",checked:t.paid,onChange:e=>a.handEditOrderStatus(t)},null,40,["checked","onChange"]),t.paid?(r(),o("span",z,"已付款")):x("",!0),t.paid?x("",!0):(r(),o("span",B,"未付款"))]),n("td",G,[n("button",{type:"button",onClick:e=>a.handDeleteOrder(t),class:" px-2 py-1 bg-red-500 rounded-lg hover:bg-red-600 active:bg-red-700"},"刪除",8,["onClick"])])])))),128))])])])])};export default u;
